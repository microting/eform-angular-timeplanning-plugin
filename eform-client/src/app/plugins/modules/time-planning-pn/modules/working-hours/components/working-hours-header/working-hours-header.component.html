<div class="d-flex flex-row flex-nowrap justify-content-center align-items-center gap-12">
  <mat-form-field id="workingHoursRange">
    <mat-label>{{ 'Date range' | translate }}</mat-label>
    <mat-datepicker-toggle matPrefix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-input [rangePicker]="picker" (click)="picker.open()">
      <input [value]="dateFrom" (dateChange)="updateDateFrom($event)" (dateInput)="updateDateFrom($event)" matStartDate
             class="workingHoursRange">
      <input [value]="dateTo" (dateChange)="updateDateTo($event)" (dateInput)="updateDateTo($event)" matEndDate
             class="workingHoursRange">
    </mat-date-range-input>
    <mat-date-range-picker #picker></mat-date-range-picker>
  </mat-form-field>

  <mat-form-field>
    <mat-label>{{ 'Worker' | translate }}</mat-label>
    <mtx-select
      [items]="availableSites"
      bindLabel="siteName"
      bindValue="siteId"
      [ngModel]="siteId"
      (ngModelChange)="onSiteChanged($event)"
      id="workingHoursSite">
    </mtx-select>
  </mat-form-field>


  <div class="d-flex flex-row flex-nowrap justify-content-center align-items-center gap-12"
       *ngIf="siteId && dateFrom && dateTo">

    <button
      class="btn-secondary btn-secondary--icon-square-border"
      id="workingHoursReload"
      (click)="filtersChangedEmmit()"
      [matTooltip]="'Reload table' | translate"
    >
      <mat-icon>restart_alt</mat-icon>
    </button>
    <button
      *ngIf="!tainted"
      class="btn-secondary btn-secondary--icon-square-border"
      id="workingHoursExcel"
      (click)="onDownloadExcelReport()"
      [matTooltip]="'Download Excel' | translate"
    >
      <mat-icon>download</mat-icon>
    </button>

    <div class="line-vert"></div>

    <button
      class="btn-primary btn-primary--icon-left"
      id="workingHoursSave"
      (click)="onSaveWorkingHours()"
    >
      {{ 'Save' | translate }}
    </button>
  </div>

  <button
    *ngIf="!siteId && dateFrom && dateTo"
    class="btn-secondary btn-secondary--icon-square-border"
    id="workingHoursExcelAllWorkers"
    (click)="onDownloadExcelReportAllWorkers()"
    [matTooltip]="'Download Excel (all workers)' | translate"
  >
    <mat-icon>download</mat-icon>
  </button>

  <button
    *ngIf="!tainted && !siteId"
    class="btn-secondary btn-secondary--icon-square-border"
    id="importEformsBtn"
    matTooltip="{{ 'Import work plan' | translate }}"
    (click)="openEformsImportModal()">
    <mat-icon>file_upload</mat-icon>
  </button>

</div>
